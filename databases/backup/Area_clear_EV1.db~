#! Generated by VisualDCT v2.6
#! DBDSTART
#! DBD("/epics/ethercat-4-3/iocs/susbIoc/dbd/susbioc.dbd")
#! DBDEND


template() {
  port(EV1, "$(SYS):EV1-PROC-DIR")
}

record(calcout, "$(SYS):EV1-PROC-1") {
  field(DESC, "EV1 is already clear check possible fail signal")
  field(CALC, "A?(B?(C?(D AND E?(F?1:5):4):3):2):0")
  field(INPA, "$(SYS):EV1-CLR")
  field(INPB, "$(SYS):SW-RF-A6-CLSD")
  field(INPC, "$(SYS):SW-RF-A7-CLSD")
  field(INPD, "$(SYS):SW-I-EV1-A6")
  field(INPE, "$(SYS):SW-II-EV1-A6")
  field(INPF, "$(SYS):WS-BUT-EV1-18")
  field(OUT, "$(SYS):DUMMY")
  field(OOPT, "When Non-zero")
}


record(calc, "$(SYS):EV1-PROC-DIR") {
  field(DESC, "select which if-condition branch to process")
  field(CALC, "A?(B?4:1):(B?3:2)")
  field(INPA, "$(SYS):EV1-CLR")
  field(INPB, "$(SYS):WTCH-EV1-18")
}

record(calcout, "$(SYS):EV1-PROC-2") {
  field(CALC, "A==0?2:1")
  field(INPA, "$(SYS):EV1-PROC-1")
}

record(seq, "$(SYS):REPT-ERROR") {
  field(SCAN, "Passive")
  field(SELL, "$(SYS):EV1-PROC-1.VAL")
  field(DOL1, "The roof is open")
  field(LNK1, "$(SYS):REPT-ERROR-OUT PP")
  field(DOL2, "Experimental vault 2 roof is open")
  field(LNK2, "$(SYS):REPT-ERROR-OUT PP")
  field(DOL3, "Door A6 was opened")
  field(LNK3, "$(SYS):REPT-ERROR-OUT PP")
  field(DOL4, "Panic button 18 was pressed")
  field(LNK4, "$(SYS):REPT-ERROR-OUT PP")
  field(DOL5, "Watchman 19 must be activated")
  field(LNK5, "$(SYS):REPT-ERROR-OUT PP")
  field(DOL6, "Door A6 switch 1 is open")
  field(LNK6, "$(SYS):REPT-ERROR-OUT PP")
  field(DOL7, "Door A6 switch 2 is open")
  field(LNK7, "$(SYS):REPT-ERROR-OUT PP")
  field(DOL8, "TIME OUT ERROR: RELEASE ALL WATCHMEN")
  field(LNK8, "$(SYS):REPT-ERROR-OUT PP")
  field(DOL9, "CLEARED")
  field(LNK9, "$(SYS):REPT-ERROR-OUT PP")
  field(DOLA, "NOT CLEARED")
  field(LNKA, "$(SYS):REPT-ERROR-OUT PP")
  field(SELM, "Specified")
}

record(dfanout, "$(SYS):RST-EXP-VLT-1A") {
  field(FLNK, "$(SYS):RST-EXP-VLT-1B")
  field(OUTA, "$(SYS):CS9-EV1")
  field(OUTB, "$(SYS):CL9-EV1")
  field(OUTC, "$(SYS):EV1-CLEAR")
  field(OUTD, "$(SYS):LED-WS-18")
  field(OUTE, "$(SYS):LED-WS-19")
  field(OUTF, "$(SYS):EV1-COUNTER")
  field(OUTG, "$(SYS):WTCH-EV1-18-ACTV")
  field(OUTH, "$(SYS):WTCH-EV1-19-ACTV")
  field(SCAN, "Passive")
  field(DOL, "0")
}

record(dfanout, "$(SYS):RST-EXP-VLT-1B") {
  field(OUTA, "$(SYS):FLAG5A")
  field(OUTB, "$(SYS):FLAG5B")
  field(OUTC, "$(SYS):FLAG5C")
  field(SCAN, "Passive")
  field(DOL, "0")
}

record(fanout, "$(SYS):FRWD-PROC-1") {
  field(SCAN, "Passive")
  field(LNK1, "$(SYS):RST-EXP-VLT-1A")
  field(LNK2, "$(SYS):REPT-ERROR")
}

record(ai, "$(SYS):DUMMY") {
  field(SCAN, "Passive")
  field(FLNK, "$(SYS):FRWD-PROC-1")
}

record(stringin, "$(SYS):REPT-ERROR-OUT") {
  field(SCAN, "Passive")
}

record(ai, "$(SYS):EV1-COUNTER") {
  field(SCAN, "Passive")
}

record(bo, "$(SYS):WTCH-EV1-18") {
  field(SCAN, "Passive")
}

record(bo, "$(SYS):WTCH-EV1-19") {
  field(SCAN, "Passive")
}

record(bo, "$(SYS):FLAG5A") {
  field(SCAN, "Passive")
}

record(bo, "$(SYS):FLAG5B") {
  field(SCAN, "Passive")
}

record(bo, "$(SYS):FLAG5C") {
  field(SCAN, "Passive")
}

record(bi, "$(SYS):SW-RF-A6-CLSD") {
  field(SCAN, "Passive")
}

record(bi, "$(SYS):SW-RF-A7-CLSD") {
  field(SCAN, "Passive")
}

record(bi, "$(SYS):SW-I-EV1-A6") {
  field(SCAN, "Passive")
}

record(bi, "$(SYS):SW-II-EV1-A6") {
  field(SCAN, "Passive")
}

record(bi, "$(SYS):WS-BUT-EV1-18") {
  field(SCAN, "Passive")
}

record(bi, "$(SYS):WS-BUT-EV1-19") {
  field(SCAN, "Passive")
}

record(bo, "$(SYS):LED-WS-EV1-18") {
  field(SCAN, "Passive")
}

record(bo, "$(SYS):LED-WS-EV1-19") {
  field(SCAN, "Passive")
}

record(bo, "$(SYS):EV1-CLR") {
  field(SCAN, "Passive")
}

record(stringout, "$(SYS):EV1-CLR-STATS") {
  field(SCAN, "Passive")
  field(OMSL, "supervisory")
}

record(stringout, "$(SYS):EV1-INTLCK-STATS") {
  field(SCAN, "Passive")
  field(OMSL, "supervisory")
}

#! Further lines contain data used by VisualDCT
#! View(0,1728,1.1)
#! Record("$(SYS):EV1-PROC-1",1040,1764,0,1,"$(SYS):EV1-PROC-1")
#! Field("$(SYS):EV1-PROC-1.OUT",16777215,1,"$(SYS):EV1-PROC-1.OUT")
#! Link("$(SYS):EV1-PROC-1.OUT","$(SYS):DUMMY.VAL")
#! Field("$(SYS):EV1-PROC-1.VAL",16777215,1,"$(SYS):EV1-PROC-1.VAL")
#! Field("$(SYS):EV1-PROC-1.INPA",16777215,0,"$(SYS):EV1-PROC-1.INPA")
#! Link("$(SYS):EV1-PROC-1.INPA","$(SYS):EV1-CLR.VAL")
#! Field("$(SYS):EV1-PROC-1.INPB",16777215,0,"$(SYS):EV1-PROC-1.INPB")
#! Link("$(SYS):EV1-PROC-1.INPB","$(SYS):SW-RF-A6-CLSD.VAL")
#! Field("$(SYS):EV1-PROC-1.INPC",16777215,0,"$(SYS):EV1-PROC-1.INPC")
#! Link("$(SYS):EV1-PROC-1.INPC","$(SYS):SW-RF-A7-CLSD.VAL")
#! Field("$(SYS):EV1-PROC-1.INPD",16777215,0,"$(SYS):EV1-PROC-1.INPD")
#! Link("$(SYS):EV1-PROC-1.INPD","$(SYS):SW-I-EV1-A6.VAL")
#! Field("$(SYS):EV1-PROC-1.INPE",16777215,0,"$(SYS):EV1-PROC-1.INPE")
#! Link("$(SYS):EV1-PROC-1.INPE","$(SYS):SW-II-EV1-A6.VAL")
#! Field("$(SYS):EV1-PROC-1.INPF",16777215,0,"$(SYS):EV1-PROC-1.INPF")
#! Link("$(SYS):EV1-PROC-1.INPF","$(SYS):WS-BUT-EV1-18.VAL")
#! Record("$(SYS):EV1-PROC-DIR",420,1948,0,0,"$(SYS):EV1-PROC-DIR")
#! Field("$(SYS):EV1-PROC-DIR.INPA",16777215,0,"$(SYS):EV1-PROC-DIR.INPA")
#! Link("$(SYS):EV1-PROC-DIR.INPA","$(SYS):EV1-CLR.VAL")
#! Field("$(SYS):EV1-PROC-DIR.INPB",16777215,0,"$(SYS):EV1-PROC-DIR.INPB")
#! Link("$(SYS):EV1-PROC-DIR.INPB","$(SYS):WTCH-EV1-18.VAL")
#! Record("$(SYS):EV1-PROC-2",1320,2236,0,1,"$(SYS):EV1-PROC-2")
#! Field("$(SYS):EV1-PROC-2.INPA",16777215,0,"$(SYS):EV1-PROC-2.INPA")
#! Link("$(SYS):EV1-PROC-2.INPA","$(SYS):EV1-PROC-1.VAL")
#! Record("$(SYS):REPT-ERROR",2200,2282,0,0,"$(SYS):REPT-ERROR")
#! Field("$(SYS):REPT-ERROR.DOL1",16777215,1,"$(SYS):REPT-ERROR.DOL1")
#! Field("$(SYS):REPT-ERROR.DOL2",16777215,1,"$(SYS):REPT-ERROR.DOL2")
#! Field("$(SYS):REPT-ERROR.DOL3",16777215,1,"$(SYS):REPT-ERROR.DOL3")
#! Field("$(SYS):REPT-ERROR.DOL4",16777215,1,"$(SYS):REPT-ERROR.DOL4")
#! Field("$(SYS):REPT-ERROR.LNK1",16777215,1,"$(SYS):REPT-ERROR.LNK1")
#! Link("$(SYS):REPT-ERROR.LNK1","$(SYS):REPT-ERROR-OUT.VAL")
#! Field("$(SYS):REPT-ERROR.LNK2",16777215,1,"$(SYS):REPT-ERROR.LNK2")
#! Link("$(SYS):REPT-ERROR.LNK2","$(SYS):REPT-ERROR-OUT.VAL")
#! Field("$(SYS):REPT-ERROR.LNK3",16777215,1,"$(SYS):REPT-ERROR.LNK3")
#! Link("$(SYS):REPT-ERROR.LNK3","$(SYS):REPT-ERROR-OUT.VAL")
#! Field("$(SYS):REPT-ERROR.LNK4",16777215,1,"$(SYS):REPT-ERROR.LNK4")
#! Link("$(SYS):REPT-ERROR.LNK4","$(SYS):REPT-ERROR-OUT.VAL")
#! Field("$(SYS):REPT-ERROR.SELL",16777215,0,"$(SYS):REPT-ERROR.SELL")
#! Link("$(SYS):REPT-ERROR.SELL","$(SYS):EV1-PROC-1.VAL")
#! Field("$(SYS):REPT-ERROR.DOL5",16777215,1,"$(SYS):REPT-ERROR.DOL5")
#! Field("$(SYS):REPT-ERROR.LNK5",16777215,1,"$(SYS):REPT-ERROR.LNK5")
#! Link("$(SYS):REPT-ERROR.LNK5","$(SYS):REPT-ERROR-OUT.VAL")
#! Field("$(SYS):REPT-ERROR.DOL6",16777215,1,"$(SYS):REPT-ERROR.DOL6")
#! Field("$(SYS):REPT-ERROR.LNK6",16777215,1,"$(SYS):REPT-ERROR.LNK6")
#! Link("$(SYS):REPT-ERROR.LNK6","$(SYS):REPT-ERROR-OUT.VAL")
#! Field("$(SYS):REPT-ERROR.DOL7",16777215,1,"$(SYS):REPT-ERROR.DOL7")
#! Field("$(SYS):REPT-ERROR.LNK7",16777215,1,"$(SYS):REPT-ERROR.LNK7")
#! Link("$(SYS):REPT-ERROR.LNK7","$(SYS):REPT-ERROR-OUT.VAL")
#! Field("$(SYS):REPT-ERROR.DOL8",16777215,1,"$(SYS):REPT-ERROR.DOL8")
#! Field("$(SYS):REPT-ERROR.LNK8",16777215,1,"$(SYS):REPT-ERROR.LNK8")
#! Link("$(SYS):REPT-ERROR.LNK8","$(SYS):REPT-ERROR-OUT.VAL")
#! Field("$(SYS):REPT-ERROR.DOL9",16777215,1,"$(SYS):REPT-ERROR.DOL9")
#! Field("$(SYS):REPT-ERROR.LNK9",16777215,1,"$(SYS):REPT-ERROR.LNK9")
#! Link("$(SYS):REPT-ERROR.LNK9","$(SYS):REPT-ERROR-OUT.VAL")
#! Field("$(SYS):REPT-ERROR.DOLA",16777215,1,"$(SYS):REPT-ERROR.DOLA")
#! Field("$(SYS):REPT-ERROR.LNKA",16777215,1,"$(SYS):REPT-ERROR.LNKA")
#! Link("$(SYS):REPT-ERROR.LNKA","$(SYS):REPT-ERROR-OUT.VAL")
#! Record("$(SYS):RST-EXP-VLT-1A",2200,1770,0,0,"$(SYS):RST-EXP-VLT-1A")
#! Field("$(SYS):RST-EXP-VLT-1A.OUTA",16777215,1,"$(SYS):RST-EXP-VLT-1A.OUTA")
#! Field("$(SYS):RST-EXP-VLT-1A.OUTB",16777215,1,"$(SYS):RST-EXP-VLT-1A.OUTB")
#! Field("$(SYS):RST-EXP-VLT-1A.OUTC",16777215,1,"$(SYS):RST-EXP-VLT-1A.OUTC")
#! Field("$(SYS):RST-EXP-VLT-1A.OUTD",16777215,1,"$(SYS):RST-EXP-VLT-1A.OUTD")
#! Field("$(SYS):RST-EXP-VLT-1A.OUTE",16777215,1,"$(SYS):RST-EXP-VLT-1A.OUTE")
#! Field("$(SYS):RST-EXP-VLT-1A.OUTF",16777215,1,"$(SYS):RST-EXP-VLT-1A.OUTF")
#! Link("$(SYS):RST-EXP-VLT-1A.OUTF","$(SYS):EV1-COUNTER.VAL")
#! Field("$(SYS):RST-EXP-VLT-1A.OUTG",16777215,1,"$(SYS):RST-EXP-VLT-1A.OUTG")
#! Field("$(SYS):RST-EXP-VLT-1A.OUTH",16777215,1,"$(SYS):RST-EXP-VLT-1A.OUTH")
#! Field("$(SYS):RST-EXP-VLT-1A.FLNK",16777215,1,"$(SYS):RST-EXP-VLT-1A.FLNK")
#! Link("$(SYS):RST-EXP-VLT-1A.FLNK","$(SYS):RST-EXP-VLT-1B")
#! Record("$(SYS):RST-EXP-VLT-1B",2500,2394,0,0,"$(SYS):RST-EXP-VLT-1B")
#! Field("$(SYS):RST-EXP-VLT-1B.OUTA",16777215,1,"$(SYS):RST-EXP-VLT-1B.OUTA")
#! Link("$(SYS):RST-EXP-VLT-1B.OUTA","$(SYS):FLAG5A.VAL")
#! Field("$(SYS):RST-EXP-VLT-1B.OUTB",16777215,1,"$(SYS):RST-EXP-VLT-1B.OUTB")
#! Link("$(SYS):RST-EXP-VLT-1B.OUTB","$(SYS):FLAG5B.VAL")
#! Field("$(SYS):RST-EXP-VLT-1B.OUTC",16777215,1,"$(SYS):RST-EXP-VLT-1B.OUTC")
#! Link("$(SYS):RST-EXP-VLT-1B.OUTC","$(SYS):FLAG5C.VAL")
#! Record("$(SYS):FRWD-PROC-1",1560,1941,0,0,"$(SYS):FRWD-PROC-1")
#! Field("$(SYS):FRWD-PROC-1.LNK1",16777215,1,"$(SYS):FRWD-PROC-1.LNK1")
#! Link("$(SYS):FRWD-PROC-1.LNK1","$(SYS):RST-EXP-VLT-1A")
#! Field("$(SYS):FRWD-PROC-1.LNK2",16777215,1,"$(SYS):FRWD-PROC-1.LNK2")
#! Link("$(SYS):FRWD-PROC-1.LNK2","$(SYS):REPT-ERROR")
#! Record("$(SYS):DUMMY",1300,1876,0,1,"$(SYS):DUMMY")
#! Field("$(SYS):DUMMY.VAL",16777215,0,"$(SYS):DUMMY.VAL")
#! Field("$(SYS):DUMMY.FLNK",16777215,1,"$(SYS):DUMMY.FLNK")
#! Link("$(SYS):DUMMY.FLNK","$(SYS):FRWD-PROC-1")
#! Record("$(SYS):REPT-ERROR-OUT",2500,2670,0,1,"$(SYS):REPT-ERROR-OUT")
#! Field("$(SYS):REPT-ERROR-OUT.VAL",16777215,1,"$(SYS):REPT-ERROR-OUT.VAL")
#! Record("$(SYS):EV1-COUNTER",2500,2090,0,1,"$(SYS):EV1-COUNTER")
#! Field("$(SYS):EV1-COUNTER.VAL",16777215,0,"$(SYS):EV1-COUNTER.VAL")
#! Record("$(SYS):WTCH-EV1-18",100,1770,0,0,"$(SYS):WTCH-EV1-18")
#! Field("$(SYS):WTCH-EV1-18.VAL",16777215,1,"$(SYS):WTCH-EV1-18.VAL")
#! Record("$(SYS):WTCH-EV1-19",510,30,0,0,"$(SYS):WTCH-EV1-19")
#! Record("$(SYS):FLAG5A",2780,2230,0,1,"$(SYS):FLAG5A")
#! Field("$(SYS):FLAG5A.VAL",16777215,0,"$(SYS):FLAG5A.VAL")
#! Record("$(SYS):FLAG5B",2780,2330,0,1,"$(SYS):FLAG5B")
#! Field("$(SYS):FLAG5B.VAL",16777215,0,"$(SYS):FLAG5B.VAL")
#! Record("$(SYS):FLAG5C",2780,2430,0,1,"$(SYS):FLAG5C")
#! Field("$(SYS):FLAG5C.VAL",16777215,0,"$(SYS):FLAG5C.VAL")
#! Record("$(SYS):SW-RF-A6-CLSD",740,1850,0,1,"$(SYS):SW-RF-A6-CLSD")
#! Field("$(SYS):SW-RF-A6-CLSD.VAL",16777215,1,"$(SYS):SW-RF-A6-CLSD.VAL")
#! Record("$(SYS):SW-RF-A7-CLSD",740,1970,0,1,"$(SYS):SW-RF-A7-CLSD")
#! Field("$(SYS):SW-RF-A7-CLSD.VAL",16777215,1,"$(SYS):SW-RF-A7-CLSD.VAL")
#! Record("$(SYS):SW-I-EV1-A6",740,2070,0,1,"$(SYS):SW-I-EV1-A6")
#! Field("$(SYS):SW-I-EV1-A6.VAL",16777215,1,"$(SYS):SW-I-EV1-A6.VAL")
#! Record("$(SYS):SW-II-EV1-A6",740,2190,0,1,"$(SYS):SW-II-EV1-A6")
#! Field("$(SYS):SW-II-EV1-A6.VAL",16777215,1,"$(SYS):SW-II-EV1-A6.VAL")
#! Record("$(SYS):WS-BUT-EV1-18",740,2290,0,1,"$(SYS):WS-BUT-EV1-18")
#! Field("$(SYS):WS-BUT-EV1-18.VAL",16777215,1,"$(SYS):WS-BUT-EV1-18.VAL")
#! Record("$(SYS):WS-BUT-EV1-19",20,10,0,0,"$(SYS):WS-BUT-EV1-19")
#! Record("$(SYS):LED-WS-EV1-18",80,130,0,0,"$(SYS):LED-WS-EV1-18")
#! Record("$(SYS):LED-WS-EV1-19",480,210,0,0,"$(SYS):LED-WS-EV1-19")
#! Record("$(SYS):EV1-CLR",20,2090,0,0,"$(SYS):EV1-CLR")
#! Field("$(SYS):EV1-CLR.VAL",16777215,1,"$(SYS):EV1-CLR.VAL")
#! Record("$(SYS):EV1-CLR-STATS",800,156,0,0,"$(SYS):EV1-CLR-STATS")
#! Record("$(SYS):EV1-INTLCK-STATS",980,16,0,0,"$(SYS):EV1-INTLCK-STATS")
#! TextBox(TB0,1080,1740,1280,1740,0,"Dialog",12,1,16777215,"dummy # 0 , then fail condition occured",null)
